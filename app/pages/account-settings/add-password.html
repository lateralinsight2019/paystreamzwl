<ion-modal-view ng-controller="AddPasswordCtrl">
	<ion-header-bar align-title="center" class="tab-bar">
		<h1 class="title ellipsis">
			{{heading | translate}}
		</h1>
	</ion-header-bar>

	<ion-content class="modal-content fix-modals-touch" scrollbar-y="false">
		<div class="item item-divider"></div>
		<div ng-hide="confirm">
			<form name="form.passwordForm">
				<label class="item item-input item-stacked-label">
					<span class="input-label">
						{{'modal.password.label' | translate}}
					</span>
					<input type="password" ng-model="model.password" placeholder="{{'modal.password.placeholder' | translate}}" autocapitalize="none" focus-if="{{!confirm}}" on-esc="cancel()" on-enter="setPassword()" required>
				</label>
			</form>
			<div class="row" style="padding:4px 8px">
				<div class="col col-50" style="padding:4px 8px">
					<button class="button button-block button-light" on-tap="cancel()">
						{{'global.cancel' | translate}}
					</button>
				</div>
				<div class="col col-50" style="padding:4px 8px">
					<button class="button button-block button-positive" on-tap="setPassword()" ng-disabled="form.passwordForm.$invalid">
						{{'global.ok' | translate}}
					</button>
				</div>
			</div>
		</div>

		<div ng-show="confirm">
			<form name="form.confirmForm">
				<label class="item item-input item-stacked-label">
				<span class="input-label">
					{{'modal.password.label' | translate}}
				</span>
					<input type="password" ng-model="model.confirm" placeholder="{{'modal.password.placeholder' | translate}}" autocapitalize="none" focus-if="{{confirm}}" on-esc="cancel()" on-enter="confirmPassword()" equal-to="model.password">
				</label>
			</form>
			<div class="row" style="padding:4px 8px">
				<div class="col col-50" style="padding:4px 8px">
					<button class="button button-block button-light" on-tap="cancel()">
						{{'global.cancel' | translate}}
					</button>
				</div>
				<div class="col col-50" style="padding:4px 8px">
					<button class="button button-block button-positive" on-tap="confirmPassword()" ng-disabled="form.confirmForm.$invalid">
						{{'global.ok' | translate}}
					</button>
				</div>
			</div>
		</div>

		<div style="padding-left:16px;padding-right:16px;text-align:center">
			{{'modal.password.warning' | translate }}
		</div>

	</ion-content>
</ion-modal-view>
